
.modal-container {
	position: relative;
	background: #fff;
	border-radius: 14px;
	box-shadow: 0 4px 24px rgba(0,0,0,0.13);
	padding: 32px 36px 28px 36px;
	min-width: 340px;
	max-height: 90vh;
	overflow: hidden;
	z-index: 2;
}

/* Ensure modal appears above overlays and is scrollable on small screens */
.modal-container { z-index: 10000; }

.close-btn {
	position: absolute;
	top: 12px;
	right: 12px;
	z-index: 10;
}

h2 {
	margin-top: 0;
	margin-bottom: 18px;
	font-size: 2rem;
	font-weight: 700;
	letter-spacing: -1px;
}

.info-row {
	display: flex;
	gap: 8px;
	margin-bottom: 4px;
	font-size: 1.08rem;
}
.label {
	font-weight: 600;
}
.value {
	font-weight: 400;
}

.squadra-select-save {
	display: flex;
	align-items: center;
	gap: 16px;
	margin-top: 24px;
}

.select-squadra {
	min-width: 180px;
}

.next-opponent {
	margin-left: 8px;
	font-weight: 600;
	align-self: center;
}

button[mat-raised-button] {
	min-width: 80px;
	font-weight: 600;
	font-size: 1rem;
}

.risultati {
	margin-top: 18px;
	max-height: min(40vh, 320px);
	overflow-y: auto;
	-webkit-overflow-scrolling: touch;
	padding-right: 8px;
	display: flex;
	flex-direction: column;
	gap: 8px;
}

.risultati-row {
	display: flex;
	gap: 20px;
	margin-top: 18px;
}

.result-tabs {
	display: flex;
	gap: 8px;
	margin-top: 10px;
}
.result-tabs .tab {
	flex: 1 1 auto;
	padding: 8px 10px;
	border-radius: 8px;
	background: #f5f7fb;
	border: 1px solid #e0e6f0;
	font-weight: 700;
}
.result-tabs .tab.active {
	background: var(--primary-color);
	color: #fff;
	border-color: var(--primary-dark);
}

.save-small { padding: 8px 12px; height: 40px; min-width: 64px; }
.hidden-when-tabs { display: none; }
.result-tabs { display: none; } /* hide tabs by default (desktop) */
.result-tabs + .squadra-select-save { margin-top: 12px; }
.risultati-col {
	/* each column takes one third on larger screens */
	flex: 0 0 33%;
	min-width: 240px;
	max-height: min(48vh, 420px);
	/* use overlay scrollbars inside each column so they sit flush to the column edge */
	overflow-y: overlay;
	display: flex;
	flex-direction: column;
	gap: 10px;
}
.risultati-title {
	margin: 0 0 8px 0;
	font-size: 1.05rem;
	font-weight: 700;
}

.risultato-item {
	padding: 8px 10px;
	border-radius: 8px;
	background: #f8f8f8;
	font-size: 0.95rem;
}

.selected-team {
  font-weight: 700;
}

.result-badge {
	display: inline-flex;
	align-items: center;
	margin-left: 8px;
}
.badge {
	display: inline-block;
	width: 22px;
	height: 18px;
	line-height: 18px;
	text-align: center;
	border-radius: 4px;
	font-weight: 700;
	color: #fff;
	font-size: 0.85rem;
	margin-left: 4px;
}
.badge-v { background: var(--primary-color); }
.badge-n { background: #f5c842; color: #212121; }
.badge-p { background: #e21b1b; }

/* Fallbacks / tweaks for small screens */
@media (max-width: 700px) {
	/* On small screens show the tabs */
	.result-tabs { display: flex !important; }
	/* hide desktop column headers/titles when tabs are present */
	.hidden-when-tabs { display: none !important; }
	/* Make dialog full-screen and ensure only one visible container */
	:host ::ng-deep .cdk-overlay-backdrop {
		z-index: 10000 !important;
		position: fixed !important;
		inset: 0 !important;
		height: 100vh !important;
		background: rgba(0,0,0,0.28) !important;
	}
	:host ::ng-deep .mat-dialog-container {
		padding: 0 !important;
		max-width: 100vw !important;
		width: 100vw !important;
		height: 100vh !important;
		margin: 0 !important;
		display: block !important;
		background: transparent !important;
		box-shadow: none !important;
		position: fixed !important;
		top: 0 !important;
		left: 0 !important;
		right: 0 !important;
		bottom: 0 !important;
		z-index: 10002 !important;
	}

/* prevent background page scrolling when overlay is active */
:host ::ng-deep .cdk-global-scrollblock {
  height: 100% !important;
  overflow: hidden !important;
}

	/* Force the actual content container to fill the viewport and remove floating box visuals */
	.modal-container {
		position: fixed !important;
		top: 0 !important;
		left: 0 !important;
		right: 0 !important;
		bottom: 0 !important;
		width: 100% !important;
		height: 100vh !important;
		min-height: 100vh !important;
		padding: 18px 16px 24px 16px !important; /* reduce space reserved for footer */
		margin: 0 !important;
		border-radius: 0 !important;
		box-shadow: none !important;
		background: #fff !important;
		overflow-y: auto !important;
		z-index: 10001 !important;
	}

	.risultati {
		max-height: min(50vh, 320px);
		overflow: visible;
	}

	.risultati-row {
		flex-direction: column;
		gap: 12px;
	}

	.risultati-col {
		flex: 1 1 0;
		min-width: auto;
		max-height: 35vh;
		overflow-y: auto;
	}

	/* Hide column titles on mobile, tabs are sufficient */
	.risultati-title { display: none !important; }

	/* Make the tabs sticky at the top of the modal so they remain visible while scrolling results */
	.result-tabs {
		position: sticky;
		top: 12px; /* a little below the dialog header */
		z-index: 10005;
		background: #fff;
		padding: 6px 6px 8px 6px;
		border-radius: 8px;
		box-shadow: 0 6px 18px rgba(16,24,40,0.08);
	}
	.result-tabs .tab { min-height: 36px; height: 36px; padding: 6px 8px; }

	/* Ensure the risultati-row has space on top so sticky tabs don't overlap content */
	.risultati-row { padding-top: 12px; }
}

/* Additional tweaks to make controls stack and be tappable on phones */
@media (max-width: 700px) {
  :host ::ng-deep .mat-dialog-container { padding: 0 !important; display: flex; align-items: flex-start; justify-content: center; }

  .squadra-select-save { flex-direction: column; align-items: stretch; gap: 10px; }
  .select-squadra { width: 100% !important; min-width: auto !important; }
  button[mat-raised-button] { width: 100%; }
  .next-opponent { margin-left: 0; }
  .close-btn { top: 8px; right: 8px; }
}

/* Mobile footer becomes part of the flow (not fixed) to avoid keyboard pushing content */
@media (max-width: 700px) {
	.squadra-select-save {
		position: relative;
		left: auto;
		right: auto;
		bottom: auto;
		padding: 12px 8px;
		background: transparent;
		box-shadow: none;
		z-index: auto;
		display: flex;
		gap: 8px;
		align-items: center;
		justify-content: center;
		margin-top: 12px;
	}
	.squadra-select-save .select-squadra { flex: 1 1 auto; max-width: none; }
	.squadra-select-save button[mat-raised-button] { flex: 0 0 72px; width: 72px; height: 36px; padding: 6px 8px; border-radius: 6px; }
	/* ensure content isn't hidden behind footer */
	.modal-container { padding-bottom: 24px !important; }
	.risultati-row { padding-bottom: 8px; }

	/* ensure scrollIntoView doesn't hide content behind footer */
	.risultati-row { scroll-margin-bottom: 60px; }

	/* On mobile, show all results inline (no inner scroll) so items are visible */
	.risultati-col { max-height: none !important; overflow: visible !important; }
}
