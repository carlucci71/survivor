<div class="me-dettaglio-container">
  <app-header
    title="Giocatore"
    visHome="S"
    visLogout="N"
    (back)="goBack()"
    (logout)="logout()"
  ></app-header>

  <main class="main-content">
    <div class="lega-dettaglio-container">
      <mat-card class="lega-card">
        <mat-card-header>
          <!--
          <mat-card-title>Nome: -</mat-card-title>
          <mat-card-subtitle>--</mat-card-subtitle>
            -->
          <form class="me-form" (ngSubmit)="confermaNome()">
            <mat-form-field class="me-full-width">
              <mat-label>Nome</mat-label>
              <input
                matInput
                [(ngModel)]="nome"
                [ngModelOptions]="{ standalone: true }"
                (input)="clearFeedback()"
              />
            </mat-form-field>

            <div class="me-actions">
              <button
                mat-raised-button
                class="btn-conferma"
                type="submit"
                [disabled]="!nomeModificato || isSaving"
              >
                {{ isSaving ? 'Salvataggio...' : 'Conferma' }}
              </button>

          @if (feedbackMessage ) {
              <div
                class="feedback-badge"
                [class.success]="feedbackType === 'success'"
                [class.error]="feedbackType === 'error'"
              >
                <mat-icon>{{ feedbackType === 'success' ? 'check_circle' : 'error' }}</mat-icon>
                <span>{{ feedbackMessage }}</span>
              </div>
            }
            </div>
          </form>
        </mat-card-header>
      </mat-card>
    </div>
  </main>
</div>
